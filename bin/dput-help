#!/usr/bin/env python

from dput.util import obj_docs
from dput.exceptions import DputConfigurationError, InvalidConfigError
import sys

if len(sys.argv) <= 2:
    print "Error in usage."
    print " dput-help checkers lintian"
    print " dput-help processor unblock"
    sys.exit(1)

klass = sys.argv[1]
thing = sys.argv[2]

if klass not in ['checkers', 'processors']:
    print "Error in usage."
    print " Need one of checkers / processors as second arg."
    sys.exit(2)

try:
    docs = obj_docs(klass, thing)
    if docs is None:
        print "Sorry, the author of that module didn't provide documentation."
    else:
        print docs
except DputConfigurationError as e:
    print "Error with the config file:"
    print e
except InvalidConfigError as e:
    print "Invalid config file:"
    print e
